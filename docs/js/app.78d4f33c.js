(function(e){function t(t){for(var n,o,r=t[0],c=t[1],l=t[2],u=0,d=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var r=a[o];0!==s[r]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},o={app:0},s={app:0},i=[];function r(e){return c.p+"js/"+({game:"game"}[e]||e)+"."+{game:"45d7fd83"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={game:1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=new Promise((function(t,a){for(var n="css/"+({game:"game"}[e]||e)+"."+{game:"d51bc2e2"}[e]+".css",s=c.p+n,i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var l=i[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===s))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===n||u===s)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete o[e],f.parentNode.removeChild(f),a(i)},f.href=s;var v=document.getElementsByTagName("head")[0];v.appendChild(f)})).then((function(){o[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=s[e]=[t,a]}));t.push(n[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(f);var a=s[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",d.name="ChunkLoadError",d.type=n,d.request=o,a[1](d)}s[e]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var f=u;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"051c":function(e,t,a){},"0673":function(e,t,a){"use strict";var n=a("dfd1"),o=a.n(n);o.a},"06d7":function(e,t){},"09b2":function(e,t,a){},"0ce1":function(e,t,a){"use strict";var n=a("1f20"),o=a.n(n);o.a},"0d4a":function(e,t,a){"use strict";var n=a("946f"),o=a.n(n);o.a},"12b0":function(e,t,a){},1833:function(e,t,a){"use strict";var n=a("430b");a.d(t,"ModalService",(function(){return n["a"]}));a("64e1"),a("7b56"),a("06d7")},"19ac":function(e,t,a){},"1bfe":function(e,t,a){},"1cb4":function(e,t,a){"use strict";var n=a("bb09"),o=a.n(n);o.a},"1f20":function(e,t,a){},"1fb8":function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e[e["Unknown"]=0]="Unknown",e[e["PeerCard"]=1]="PeerCard",e[e["WolfVote"]=2]="WolfVote",e[e["SeerCheck"]=3]="SeerCheck",e[e["WitchWork"]=4]="WitchWork",e[e["DayBreaks"]=5]="DayBreaks",e[e["HunterShot"]=6]="HunterShot",e[e["DeadNotice"]=7]="DeadNotice",e[e["Opinion"]=8]="Opinion",e[e["PublicVote"]=9]="PublicVote",e[e["PublicVoteResult"]=10]="PublicVoteResult",e[e["GameOver"]=11]="GameOver"}(n||(n={}))},"2cbe":function(e,t,a){},"34fe":function(e,t,a){},3998:function(e,t,a){"use strict";var n=a("34fe"),o=a.n(n);o.a},"3c39":function(e,t,a){"use strict";var n=a("7f3d"),o=a.n(n);o.a},"3e7f":function(e,t,a){},4145:function(e,t,a){"use strict";var n=a("19ac"),o=a.n(n);o.a},"41f7":function(e,t,a){"use strict";var n=a("051c"),o=a.n(n);o.a},"430b":function(e,t,a){"use strict";a("4de4");var n=a("d4ec"),o=a("bee2"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sweet-modal",{ref:"modal",attrs:{blocking:!e._overlayCanceled,"overlay-theme":e._overlayTheme,"hide-close-button":"","enable-mobile-fullscreen":!1}},[a("div",{style:{width:e._width}},[a("i",{staticClass:"close-btn icon-close",on:{click:function(t){return e.$refs.modal.close()}}})])])},i=[],r=a("99de"),c=a("7e84"),l=a("262e"),u=a("9ab4"),d=a("b0ae"),f=a("60a3"),v=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(r["a"])(this,Object(c["a"])(t).apply(this,arguments)),e._overlayTheme="dark",e._width="",e._overlayCanceled=!1,e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"setOverlayTheme",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark";this._overlayTheme=e}},{key:"setWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._width=e}},{key:"setOverlayCanceling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._overlayCanceled=e}}]),t}(f["d"]);v=u["a"]([Object(f["a"])({components:{SweetModal:d["a"]}})],v);var h=v,p=h,b=(a("71b7"),a("eb8e"),a("2877")),m=Object(b["a"])(p,s,i,!1,null,"c71e04ba",null),y=m.exports,O=a("7b56"),w=function(){function e(){Object(n["a"])(this,e),this.openedModal=[],this.vueInstanceOptions={}}return Object(o["a"])(e,[{key:"open",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.container)throw Error();var n=this.mountModalComponent(a),o=this.mountModalContentComponent(e,a);n.$el.querySelector(".sweet-content").appendChild(o.$el),this.container.appendChild(n.$el);var s=n.$refs.modal;s.$once("close",(function(){return t.close(n)})),s.open(),o.$once("close",(function(){return s.close()}));var i=new O["a"](n);return this.openedModal.push(i),i}},{key:"setContainer",value:function(e,t){this.container=e,this.vueInstanceOptions=t}},{key:"close",value:function(e){this.openedModal.filter((function(t){return t!==e}))}},{key:"mountModalComponent",value:function(e){var t=f["d"].extend(y),a=new t;return a.setOverlayTheme(e.overlayTheme),a.setWidth(e.width),a.setOverlayCanceling(e.overlayCanceling),a.$mount(),a}},{key:"mountModalContentComponent",value:function(e,t){var a=f["d"].extend(e),n=new a(this.vueInstanceOptions);return n.$mount(),n.data=t.data||{},n}}]),e}(),j=new w;t["a"]=j},5452:function(e,t,a){"use strict";var n=a("2cbe"),o=a.n(n);o.a},"5aab":function(e,t,a){"use strict";var n=a("acc5"),o=a.n(n);o.a},"5c64":function(e,t,a){"use strict";var n=a("dfa5"),o=a.n(n);o.a},6457:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chip",{staticClass:"ma-2 seat-chip",attrs:{color:e.getColor,"text-color":e.getTextColor,outlined:e.outlined}},[e.no?a("v-avatar",{attrs:{left:""}},[e._v(e._s(e.no))]):e._e(),e._v(" "+e._s(e.name)+" ")],1)},o=[],s=a("d4ec"),i=a("bee2"),r=a("99de"),c=a("7e84"),l=a("262e"),u=a("9ab4"),d=a("60a3"),f=function(e){function t(){return Object(s["a"])(this,t),Object(r["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"getColor",get:function(){return this.wolf?"pink":"primary"}},{key:"getTextColor",get:function(){return this.wolf?"white":"primary"}},{key:"outlined",get:function(){return!this.wolf}}]),t}(d["d"]);u["a"]([Object(d["c"])()],f.prototype,"no",void 0),u["a"]([Object(d["c"])()],f.prototype,"name",void 0),u["a"]([Object(d["c"])()],f.prototype,"wolf",void 0),f=u["a"]([d["a"]],f);var v=f,h=v,p=(a("1cb4"),a("2877")),b=a("6544"),m=a.n(b),y=a("8212"),O=a("cc20"),w=Object(p["a"])(h,n,o,!1,null,null,null);t["a"]=w.exports;m()(w,{VAvatar:y["a"],VChip:O["a"]})},"64e1":function(e,t){},"6bb7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overlay"},[a("v-form",[a("v-container",{staticClass:"modal-container"},[a("h1",[e._v("狼人請殺人")]),a("span",{staticClass:"description"},[a("span"),e._v("是狼人 ")]),a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"vote-group",attrs:{cols:"12"}},e._l(e.voteOptions,(function(t,n){return a("div",{key:"vote"+n,staticClass:"vote-option",on:{click:function(a){return e.vote(t.no)}}},[a("SeatChip",{attrs:{no:t.no,name:t.player.name,wolf:e.isWolf(t.no)}}),a("span",[e._v(e._s(e.getSeatVoteTexts(t.no)))])],1)})),0),a("v-col",{ref:"chats",staticClass:"chat-group",attrs:{cols:"12"}},e._l(e.chats,(function(t,n){return a("p",{key:"chat"+n,staticClass:"wolf-chat"},[e._v(" "+e._s(t)+" ")])})),0),a("v-col",{staticStyle:{padding:"0"},attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-outer-icon":"mdi-send",filled:"","clear-icon":"mdi-close-circle",clearable:"",label:"Message",type:"text"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),e.sendMessage(t))},"click:append-outer":e.sendMessage,"click:clear":e.clearMessage},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)],1)],1)],1)],1)},o=[],s=(a("4de4"),a("7db0"),a("a15b"),a("d81d"),a("d4ec")),i=a("bee2"),r=a("99de"),c=a("7e84"),l=a("262e"),u=a("9ab4"),d=a("60a3"),f=a("6457"),v=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(r["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.wolfVotes=[],e.chats=[],e.message="",e}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"getSeatVoteTexts",value:function(e){return this.wolfVotes.map((function(e,t){return{wolfNo:t,targetNo:e}})).filter((function(t){return t.targetNo===e})).map((function(e){return e.wolfNo})).join(",")}},{key:"sendMessage",value:function(){this.message&&(this.$socket.werewolves.emit("sendwolftalk",{message:this.message}),this.clearMessage())}},{key:"clearMessage",value:function(){this.message=""}},{key:"isWolf",value:function(e){return this.wolves.find((function(t){return t.no===e}))}},{key:"vote",value:function(e){this.$socket.werewolves.emit("wolfvote",{seatNo:e})}},{key:"created",value:function(){var e=this;this.sockets.werewolves.subscribe("wolfvote",(function(t){e.$set(e.wolfVotes,t.wolfSeatNo,t.targetSeatNo)})),this.sockets.werewolves.subscribe("wolftalk",(function(t){e.chats=t.messages,d["d"].nextTick((function(){e.chatElement&&(e.chatElement.scrollTop=e.chatElement.scrollHeight)}))}))}},{key:"voteOptions",get:function(){return this.seats||[]}},{key:"chatElement",get:function(){return this.$refs.chats}},{key:"wolfOptions",get:function(){return this.wolves||[]}}]),t}(d["d"]);u["a"]([Object(d["c"])()],v.prototype,"seats",void 0),u["a"]([Object(d["c"])({default:function(){return[]}})],v.prototype,"wolves",void 0),v=u["a"]([Object(d["a"])({components:{SeatChip:f["a"]}})],v);var h=v,p=h,b=(a("41f7"),a("2877")),m=a("6544"),y=a.n(m),O=a("62ad"),w=a("a523"),j=a("4bd4"),k=a("0fd9"),g=a("8654"),_=Object(b["a"])(p,n,o,!1,null,"a8434564",null);t["a"]=_.exports;y()(_,{VCol:O["a"],VContainer:w["a"],VForm:j["a"],VRow:k["a"],VTextField:g["a"]})},"71b7":function(e,t,a){"use strict";var n=a("3e7f"),o=a.n(n);o.a},"747c":function(e,t,a){"use strict";var n=a("09b2"),o=a.n(n);o.a},7745:function(e,t,a){"use strict";var n=a("7805"),o=a.n(n);o.a},7805:function(e,t,a){},"7b56":function(e,t,a){"use strict";var n=a("d4ec"),o=a("bee2"),s=a("2bd2"),i=function(){function e(t){Object(n["a"])(this,e),this.instance=t,this.closedSubject=new s["a"]}return Object(o["a"])(e,[{key:"close",value:function(){this.modal.close(),this.closedSubject.next()}},{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.modalBody.$on(e,t)}},{key:"closed$",get:function(){return this.closedSubject.asObservable()}},{key:"modal",get:function(){return this.instance.$refs.modal}},{key:"modalBody",get:function(){return this.modal.$refs.content}}]),e}();t["a"]=i},"7f3d":function(e,t,a){},"8e97":function(e,t,a){},"939b":function(e,t,a){},"946f":function(e,t,a){},"9f2a":function(e,t,a){"use strict";a("b0c0");var n=a("d4ec"),o=a("bee2"),s=a("dba1"),i={name:localStorage.getItem("werewolvesname")||""},r={get:function(){return i}},c=r,l=c.get(),u=function(){function e(){Object(n["a"])(this,e),this.name$=new s["a"](l.name)}return Object(o["a"])(e,[{key:"setName",value:function(e){localStorage.setItem("werewolvesname",e),this.name$.next(e)}},{key:"getName",value:function(){return this.name$.value}}]),e}(),d=new u;t["a"]=d},a2d1:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overlay"},[a("v-container",{staticClass:"modal-container"},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.$emit("close")}}},[e._v("Close")])],1),a("v-list",{attrs:{flat:""}},[a("v-subheader",[e._v("遊戲結束: "+e._s(e.title))]),a("v-list-item-group",{attrs:{color:"primary"}},e._l(e.seats,(function(t,n){return a("v-list-item",{key:n},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:e._s(t.seatNo)}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.seatNo+"號 "+e.getCardText(t.card)+" "+t.playerName)}})],1)],1)})),1)],1)],1)],1)],1)],1)],1)},o=[],s=a("d4ec"),i=a("bee2"),r=a("99de"),c=a("7e84"),l=a("262e"),u=a("9ab4"),d=a("60a3"),f=function(e){function t(){return Object(s["a"])(this,t),Object(r["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"getCardText",value:function(e){switch(e){case"wolf":return"狼人";case"folk":return"平民";case"seer":return"預言家";case"witch":return"女巫";case"hunter":return"獵人";default:return""}}},{key:"title",get:function(){return this.gameWin?"好人贏了":"狼人贏了"}}]),t}(d["d"]);u["a"]([Object(d["c"])({default:[]})],f.prototype,"seats",void 0),u["a"]([Object(d["c"])()],f.prototype,"gameWin",void 0),f=u["a"]([d["a"]],f);var v=f,h=v,p=(a("5aab"),a("2877")),b=a("6544"),m=a.n(b),y=a("8336"),O=a("b0af"),w=a("99d9"),j=a("62ad"),k=a("a523"),g=a("132d"),_=a("8860"),C=a("da13"),S=a("5d23"),$=a("1baa"),V=a("34c3"),N=a("0fd9"),x=a("2fa4"),M=a("e0c7"),P=Object(p["a"])(h,n,o,!1,null,"e4ed298a",null);t["a"]=P.exports;m()(P,{VBtn:y["a"],VCard:O["a"],VCardActions:w["a"],VCol:j["a"],VContainer:k["a"],VIcon:g["a"],VList:_["a"],VListItem:C["a"],VListItemContent:S["a"],VListItemGroup:$["a"],VListItemIcon:V["a"],VListItemTitle:S["c"],VRow:N["a"],VSpacer:x["a"],VSubheader:M["a"]})},a365:function(e,t,a){"use strict";var n=a("cc79"),o=a.n(n);o.a},ac84:function(e,t,a){"use strict";var n=a("8e97"),o=a.n(n);o.a},acc5:function(e,t,a){},bb09:function(e,t,a){},bb5a:function(e,t,a){},bc06:function(e,t,a){"use strict";var n=a("d4ec"),o=a("bee2"),s=a("dba1"),i=a("e758"),r={isStarted:!1,isAlive:!0,card:new i["a"],seatNo:0,isOwner:!1,seats:[],players:[],assignedCards:[],games:[],time:0,title:"",seatedPlayers:[]},c={get:function(){return r}},l=c,u=(a("b0c0"),a("99de")),d=a("7e84"),f=a("262e"),v=a("fb1c"),h=a("1fb8"),p=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).call(this)),e.name="wolf",e.roundActionMapping.push({round:"roundwolf",action:function(e){v["a"].showModal(h["a"].WolfVote,e)}}),e}return Object(f["a"])(t,e),t}(i["a"]),b=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).call(this)),e.name="folk",e}return Object(f["a"])(t,e),t}(i["a"]),m=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).call(this)),e.name="seer",e.roundActionMapping.push({round:"seer",action:function(e){v["a"].showModal(h["a"].SeerCheck,e)}}),e}return Object(f["a"])(t,e),t}(i["a"]),y=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).call(this)),e.name="witch",e.roundActionMapping.push({round:"witch",action:function(e){v["a"].showModal(h["a"].WitchWork,e)}}),e}return Object(f["a"])(t,e),t}(i["a"]),O=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).call(this)),e.name="hunter",e.roundActionMapping.push({round:"huntershot",action:function(e){v["a"].showModal(h["a"].HunterShot,e)}}),e}return Object(f["a"])(t,e),t}(i["a"]),w=function(){function e(){Object(n["a"])(this,e)}return Object(o["a"])(e,null,[{key:"create",value:function(e){switch(e){case"wolf":return new p;case"seer":return new m;case"witch":return new y;case"hunter":return new O;case"folk":return new b;default:return new i["a"]}}}]),e}(),j=a("9f2a"),k=l.get(),g=function(){function e(){Object(n["a"])(this,e),this.games$=new s["a"](k.games),this.card$=new s["a"](k.card),this.isAlive$=new s["a"](k.isAlive),this.isStarted$=new s["a"](k.isStarted),this.seatNo$=new s["a"](k.seatNo),this.isOwner$=new s["a"](k.isOwner),this.seats$=new s["a"](k.seats),this.players$=new s["a"](k.players),this.seatedPlayers$=new s["a"](k.seatedPlayers),this.assignedCards$=new s["a"](k.assignedCards),this.time$=new s["a"](k.time),this.title$=new s["a"](k.title)}return Object(o["a"])(e,[{key:"beKilled",value:function(){this.isAlive$.next(!1)}},{key:"updatePlayers",value:function(e){var t=e.seatedPlayers,a=e.players;this.seats$.next(t),this.players$.next(a)}},{key:"setOwner",value:function(e){this.isOwner$.next(j["a"].getName()===e)}},{key:"setCards",value:function(e){this.assignedCards$.next(e)}},{key:"start",value:function(){this.isStarted$.next(!0)}},{key:"peerCard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.card$.next(w.create(t)),this.seatNo$.next(e)}},{key:"reset",value:function(){this.isStarted$.next(k.isStarted),this.isAlive$.next(k.isAlive),this.seatNo$.next(k.seatNo)}}]),e}(),_=new g;t["a"]=_},cc79:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b");var n=a("ade3"),o=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("app-header"),a("v-content",[a("router-view")],1),a("Round")],1)},i=[],r=a("d4ec"),c=a("bee2"),l=a("99de"),u=a("7e84"),d=a("262e"),f=a("9ab4"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.shouldShow(e.RoundModal.PeerCard)?a("PeerCard",{attrs:{card:e.data.card}}):e._e(),e.shouldShow(e.RoundModal.WolfVote)?a("Wolf",{attrs:{seats:e.data.seats,wolves:e.data.wolves}}):e._e(),e.shouldShow(e.RoundModal.SeerCheck)?a("Seer",{attrs:{seats:e.data.seats}}):e._e(),e.shouldShow(e.RoundModal.WitchWork)?a("Witch",{attrs:{seats:e.data.seats,diedSeatNo:e.data.diedSeatNo,step:e.data.step}}):e._e(),e.shouldShow(e.RoundModal.GameOver)?a("GameOver",{attrs:{seats:e.data.seats,gameWin:e.data.gameWin},on:{close:function(t){return e.end()}}}):e._e(),e.shouldShow(e.RoundModal.DayBreaks)?a("DayBreaks",{attrs:{diedPlayers:e.data.seatsNo}}):e._e(),e.shouldShow(e.RoundModal.HunterShot)?a("HunterShot",{attrs:{seats:e.data.seats}}):e._e(),e.shouldShow(e.RoundModal.DeadNotice)?a("DeadNotice",{attrs:{seatNo:e.data.seatNo}}):e._e(),e.shouldShow(e.RoundModal.Opinion)?a("Opinion",{attrs:{seats:e.data.seats}}):e._e(),e.shouldShow(e.RoundModal.PublicVote)?a("PublicVote",{attrs:{seats:e.data.seats}}):e._e(),e.shouldShow(e.RoundModal.PublicVoteResult)?a("PublicVoteResult",{attrs:{diedSeatNos:e.data.diedSeatNos,isSecondVote:e.data.isSecondVote}}):e._e()],1)},h=[],p=a("60a3"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overlay"},[a("v-form",[a("v-container",{staticClass:"modal-container"},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h4",[e._v("請確認身份")])]),a("v-col",[a("h1",[e._v(e._s(e.getCardText()))])])],1)],1)],1)],1)},m=[],y=function(e){function t(){return Object(r["a"])(this,t),Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"getCardText",value:function(){switch(this.card){case"wolf":return"狼人";case"folk":return"平民";case"seer":return"預言家";case"witch":return"女巫";default:return""}}}]),t}(p["d"]);f["a"]([Object(p["c"])()],y.prototype,"card",void 0),y=f["a"]([p["a"]],y);var O=y,w=O,j=(a("747c"),a("2877")),k=a("6544"),g=a.n(k),_=a("62ad"),C=a("a523"),S=a("4bd4"),$=a("0fd9"),V=Object(j["a"])(w,b,m,!1,null,"311b71b9",null),N=V.exports;g()(V,{VCol:_["a"],VContainer:C["a"],VForm:S["a"],VRow:$["a"]});var x=a("6bb7"),M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overlay"},[a("v-container",{staticClass:"modal-container"},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h1",[e._v("預言家請查驗")])]),a("br"),e.selectedNo?e._e():a("v-col",{staticStyle:{padding:"0px"},attrs:{cols:"12"}},e._l(e.seats,(function(t,n){return a("div",{key:"seat"+n,staticClass:"option",class:{selected:e.selectedNo===t.no},on:{click:function(a){return e.check(t.no)}}},[a("SeatChip",{attrs:{no:t.no,name:t.name}})],1)})),0),a("v-col",{attrs:{cols:"12"}},[e._v(e._s(e.result))])],1)],1)],1)},P=[],A=a("6457"),E=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.selectedNo=0,e.result="",e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"check",value:function(e){this.selectedNo||(this.selectedNo=e,this.$socket.werewolves.emit("seercheck",{seatNo:e}))}},{key:"created",value:function(){var e=this;this.sockets.werewolves.subscribe("seercheckresult",(function(t){e.result="".concat(e.selectedNo,"號是")+("good"===t.result?"好人":"壞人")}))}}]),t}(p["d"]);f["a"]([Object(p["c"])({default:function(){return[]}})],E.prototype,"seats",void 0),E=f["a"]([Object(p["a"])({components:{SeatChip:A["a"]}})],E);var G=E,R=G,T=(a("a365"),Object(j["a"])(R,M,P,!1,null,"5d43e2d8",null)),D=T.exports;g()(T,{VCol:_["a"],VContainer:C["a"],VRow:$["a"]});var W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overlay"},[a("v-container",{staticClass:"modal-container"},["save"===e.step?a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h1",[e._v(e._s(e.diedSeatNo)+"號死了，女巫要救他嗎？")])]),a("v-col",{staticClass:"save-option"},[a("v-btn",{on:{click:function(t){return e.save(!0)}}},[e._v("救")]),a("v-btn",{on:{click:function(t){return e.save(!1)}}},[e._v("不救")])],1)],1):e._e(),"poison"===e.step?a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h1",[e._v("女巫要使用毒藥嗎？ 你要毒誰呢？")])]),a("br"),e._l(e.seats,(function(t,n){return a("div",{key:"seat"+n,staticClass:"option",class:{selected:e.selectedNo===t.no},on:{click:function(a){return e.poison(t.no)}}},[a("SeatChip",{attrs:{no:t.no,name:t.name}})],1)})),a("div",{staticClass:"option",class:{selected:e.skipped},on:{click:function(t){return e.skip()}}},[a("SeatChip",{attrs:{name:"跳過"}})],1)],2):e._e()],1)],1)},I=[],B=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.selectedNo=0,e.saved=!1,e.skipped=!1,e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"save",value:function(e){this.saved||(this.saved,this.$socket.werewolves.emit("witchsave",{willSave:e}))}},{key:"poison",value:function(e){this.selectedNo||this.skipped||(this.selectedNo=e,this.$socket.werewolves.emit("witchpoison",{seatNo:e}))}},{key:"skip",value:function(){this.selectedNo||this.skipped||(this.skipped=!0,this.$socket.werewolves.emit("witchskip"))}}]),t}(p["d"]);f["a"]([Object(p["c"])({default:function(){return[]}})],B.prototype,"seats",void 0),f["a"]([Object(p["c"])()],B.prototype,"step",void 0),f["a"]([Object(p["c"])()],B.prototype,"diedSeatNo",void 0),B=f["a"]([Object(p["a"])({components:{SeatChip:A["a"]}})],B);var H=B,L=H,F=(a("ea0f"),a("8336")),U=Object(j["a"])(L,W,I,!1,null,"0867bb26",null),q=U.exports;g()(U,{VBtn:F["a"],VCol:_["a"],VContainer:C["a"],VRow:$["a"]});var K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.selectedNo?e._e():a("div",{staticClass:"overlay"},[a("v-container",{staticClass:"modal-container"},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h1",[e._v("獵人請射殺")])]),a("br"),a("v-col",{staticStyle:{padding:"0px"},attrs:{cols:"12"}},e._l(e.seats,(function(t,n){return a("div",{key:"seat"+n,staticClass:"option",class:{selected:e.selectedNo===t.no},on:{click:function(a){return e.shot(t.no)}}},[a("SeatChip",{attrs:{no:t.no,name:t.name}})],1)})),0)],1)],1)],1)},J=[],Y=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.selectedNo=0,e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"shot",value:function(e){this.selectedNo||(this.selectedNo=e,this.$socket.werewolves.emit("huntershot",{seatNo:e}))}}]),t}(p["d"]);f["a"]([Object(p["c"])({default:function(){return[]}})],Y.prototype,"seats",void 0),Y=f["a"]([Object(p["a"])({components:{SeatChip:A["a"]}})],Y);var z=Y,Q=z,X=(a("0d4a"),Object(j["a"])(Q,K,J,!1,null,"2ad4c834",null)),Z=X.exports;g()(X,{VCol:_["a"],VContainer:C["a"],VRow:$["a"]});var ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overlay"},[a("v-form",[a("v-container",{staticClass:"modal-container"},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h1",[e._v(e._s(e.seatNo)+" 號淘汰")])])],1)],1)],1)],1)},te=[],ae=function(e){function t(){return Object(r["a"])(this,t),Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),t}(p["d"]);f["a"]([Object(p["c"])()],ae.prototype,"seatNo",void 0),ae=f["a"]([p["a"]],ae);var ne=ae,oe=ne,se=(a("f27d"),Object(j["a"])(oe,ee,te,!1,null,"e6786dcc",null)),ie=se.exports;g()(se,{VCol:_["a"],VContainer:C["a"],VForm:S["a"],VRow:$["a"]});var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overlay"},[a("v-container",{staticClass:"modal-container"},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("h1",[e._v("請發表言論")])]),e._e(),a("v-col",{staticClass:"d-flex pa-0",attrs:{cols:"12"}},[a("v-select",{attrs:{items:e.opinionActions,label:"快捷選項"},model:{value:e.selectedOpinionActions,callback:function(t){e.selectedOpinionActions=t},expression:"selectedOpinionActions"}})],1),e.selectedOpinionActions?a("v-col",{staticClass:"d-flex pa-0",attrs:{cols:"12"}},e._l(e.options,(function(t){return a("v-chip",{key:t,staticClass:"mr-2",staticStyle:{cursor:"pointer",color:"white"},attrs:{color:"rgb(95,158,160)",draggable:""},on:{click:function(a){return e.sendOpinionByShortcut(t)}}},[e._v(" "+e._s(t)+" ")])})),1):e._e(),a("v-col",{ref:"opinions",staticClass:"opinion-group pa-0",attrs:{cols:"12"}},e._l(e.myOpinions,(function(t,n){return a("p",{key:"opinion"+n,staticClass:"player-opinion mb-0"},[e._v(e._s(t))])})),0),a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-outer-icon":"mdi-send",filled:"","clear-icon":"mdi-close-circle",clearable:"",label:"Message",type:"text"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),e.sendMessage(t))},"click:append-outer":e.sendMessage,"click:clear":e.clearMessage},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),a("v-btn",{on:{click:function(t){return e.skip()}}},[e._v("跳過")])],1)],1)],1)},ce=[],le=(a("99af"),a("d81d"),function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.message="",e.myOpinions=[],e.opinionActions=["金水","銀水","查殺","表水","划水","踩"],e.selectedOpinionActions="",e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"skip",value:function(){this.$socket.werewolves.emit("skipopinion")}},{key:"sendMessage",value:function(){this.message&&(this.$socket.werewolves.emit("sendopinion",{message:this.message}),this.clearMessage())}},{key:"sendOpinionByShortcut",value:function(e){this.selectedOpinionActions&&this.$socket.werewolves.emit("sendopinion",{message:"".concat(this.selectedOpinionActions,": ").concat(e)})}},{key:"clearMessage",value:function(){this.message=""}},{key:"created",value:function(){var e=this;this.sockets.werewolves.subscribe("myopinion",(function(t){e.myOpinions=t.messages,p["d"].nextTick((function(){e.opinions&&(e.opinions.scrollTop=e.opinions.scrollHeight)}))}))}},{key:"options",get:function(){return this.selectedOpinionActions?"表水"===this.selectedOpinionActions?["狼人","好人"]:this.seats.map((function(e){return"".concat(e.no,"號")})):[]}},{key:"opinions",get:function(){return this.$refs.opinions}}]),t}(p["d"]));f["a"]([Object(p["c"])({default:function(){return[]}})],le.prototype,"seats",void 0),le=f["a"]([p["a"]],le);var ue=le,de=ue,fe=(a("ac84"),a("0673"),a("5e66")),ve=a("3e35"),he=a("cc20"),pe=a("b974"),be=a("8654"),me=Object(j["a"])(de,re,ce,!1,null,"bf2a672a",null),ye=me.exports;g()(me,{VBtn:F["a"],VCarousel:fe["a"],VCarouselItem:ve["a"],VChip:he["a"],VCol:_["a"],VContainer:C["a"],VRow:$["a"],VSelect:pe["a"],VTextField:be["a"]});var Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overlay"},[a("v-form",[a("v-container",{staticClass:"modal-container"},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h1",[e._v("請投票")])]),a("br"),e._l(e.seats,(function(t,n){return a("div",{key:"seat"+n,staticClass:"option",class:{selected:e.selectedNo===t.no},on:{click:function(a){return e.vote(t.no)}}},[a("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"primary",outlined:""}},[a("v-avatar",{attrs:{left:""}},[e._v(e._s(t.no))]),e._v(" "+e._s(t.player.name)+" ")],1)],1)}))],2)],1)],1)],1)},we=[],je=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.text="public vote",e.selectedNo=-1,e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"vote",value:function(e){this.selectedNo=e,this.$socket.werewolves.emit("publicvote",{seatNo:e})}}]),t}(p["d"]);f["a"]([Object(p["c"])({default:[]})],je.prototype,"seats",void 0),je=f["a"]([p["a"]],je);var ke=je,ge=ke,_e=(a("3c39"),a("8212")),Ce=Object(j["a"])(ge,Oe,we,!1,null,"05bc50e1",null),Se=Ce.exports;g()(Ce,{VAvatar:_e["a"],VChip:he["a"],VCol:_["a"],VContainer:C["a"],VForm:S["a"],VRow:$["a"]});var $e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overlay"},[a("v-form",[a("v-container",{staticClass:"modal-container"},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h1",[e._v("投票結果")])]),a("v-col",{attrs:{cols:"12"}},[0===e.diedSeatNos.length?a("h4",[e._v("全員棄票")]):1===e.diedSeatNos.length?a("h4",[e._v(e._s(e.diedSeatNos[0])+"號 淘汰")]):e.isSecondVote?a("h4",[e._v(e._s(e.diedSeatNos.map((function(e){return e+"號"})).join(", "))+" 淘汰")]):a("h4",[e._v(e._s(e.diedSeatNos.map((function(e){return e+"號"})).join(", "))+" 票數一樣，繼續發表言論")])])],1)],1)],1)],1)},Ve=[],Ne=function(e){function t(){return Object(r["a"])(this,t),Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),t}(p["d"]);f["a"]([Object(p["c"])({default:[]})],Ne.prototype,"diedSeatNos",void 0),f["a"]([Object(p["c"])()],Ne.prototype,"isSecondVote",void 0),Ne=f["a"]([p["a"]],Ne);var xe=Ne,Me=xe,Pe=(a("7745"),Object(j["a"])(Me,$e,Ve,!1,null,"4cac16b4",null)),Ae=Pe.exports;g()(Pe,{VCol:_["a"],VContainer:C["a"],VForm:S["a"],VRow:$["a"]});var Ee=a("a2d1"),Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overlay"},[a("v-form",[a("v-container",{staticClass:"modal-container"},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12"}},[a("h1",[e._v("天亮了")])]),a("v-col",{attrs:{cols:"12"}},[e.diedPlayers.length>0?a("h4",[e._v(e._s(e.diedPlayers.map((function(e){return e+"號"})).join(", "))+" 淘汰")]):a("h4",[e._v("昨晚是平安夜")])])],1)],1)],1)],1)},Re=[],Te=function(e){function t(){return Object(r["a"])(this,t),Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),t}(p["d"]);f["a"]([Object(p["c"])({default:[]})],Te.prototype,"diedPlayers",void 0),Te=f["a"]([p["a"]],Te);var De=Te,We=De,Ie=(a("d329"),Object(j["a"])(We,Ge,Re,!1,null,"3886a979",null)),Be=Ie.exports;g()(Ie,{VCol:_["a"],VContainer:C["a"],VForm:S["a"],VRow:$["a"]});var He=a("fb1c"),Le=a("bc06"),Fe=a("1fb8"),Ue=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.RoundModal=Fe["a"],e.modal=Fe["a"].Unknown,e.data={},e.isPlayerAlive=!0,e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"shouldShow",value:function(e){return this.modal===e&&this.isPlayerAlive}},{key:"end",value:function(){He["a"].clearModal()}},{key:"mounted",value:function(){var e=this;He["a"].show$.subscribe((function(t){e.modal=t.modal,e.data=t.data}))}}]),t}(p["d"]);Ue=f["a"]([Object(p["a"])({components:{PeerCard:N,Wolf:x["a"],Seer:D,Witch:q,GameOver:Ee["a"],DayBreaks:Be,DeadNotice:ie,HunterShot:Z,Opinion:ye,PublicVote:Se,PublicVoteResult:Ae},subscriptions:function(){return{isPlayerAlive:Le["a"].isAlive$}}})],Ue);var qe=Ue,Ke=qe,Je=Object(j["a"])(Ke,v,h,!1,null,null,null),Ye=Je.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isGameStarted?a("v-app-bar",{attrs:{app:"",color:e.isPlayerAlive?"#020024":"red",dark:""}},[a("div",{staticClass:"d-flex align-center margin-auto",staticStyle:{width:"100%"},on:{click:function(t){e.isShowCard=!e.isShowCard}}},[a("v-spacer"),e.isShowCard?a("span",[e.seatNo>0?[e._v(" "+e._s(e.seatNo)+"號 "),e.isShowCard?a("v-icon",[e._v("mdi-eye")]):a("v-icon",[e._v("mdi-eye-off")])]:e._e(),e._v(" "+e._s(e.card.name)+" ")],2):a("span",[e.seatNo>0?[e._v(" "+e._s(e.seatNo)+"號 "),e.isShowCard?a("v-icon",[e._v("mdi-eye")]):a("v-icon",[e._v("mdi-eye-off")])]:e._e(),e._v(" "+e._s(e.isPlayerAlive?e.playerName:"陣亡")+" ")],2),a("v-spacer")],1)]):a("v-app-bar",{attrs:{app:"",color:"#020024",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("span",{on:{click:function(t){return e.goToHome()}}},[e._v("狼人殺")])]),a("v-spacer"),e.isHomePage?[e.isGameStarted?a("v-btn",{attrs:{text:""}},[a("span",{staticClass:"mr-2"},[e._v(e._s(e.playerName))])]):a("v-btn",{attrs:{text:""},on:{click:function(t){return e.showCancelableDialog()}}},[a("span",{staticClass:"mr-2"},[e._v(e._s(e.playerName))]),a("v-icon",[e._v("mdi-account-edit")])],1)]:[e.isGameStarted?e._e():a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){return e.leaveGame()}}},[a("span",{staticClass:"mr-2"},[e._v("退出")])])]],2)},Qe=[],Xe=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",[a("v-container",{staticClass:"modal-container"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Your Name",outlined:"","hide-details":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirm()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),a("v-row",[a("v-btn",{staticClass:"ma-2",attrs:{loading:!1,disabled:!1,color:"info"},on:{click:function(t){return e.confirm()}},scopedSlots:e._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[e._v("cached")])],1)]},proxy:!0}])},[e._v(" Confirm ")]),e.data.cancelable?a("v-btn",{staticClass:"ma-2",attrs:{loading:!1,disabled:!1,color:"error"},on:{click:function(t){return e.$emit("close")}},scopedSlots:e._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[e._v("cached")])],1)]},proxy:!0}],null,!1,344498462)},[e._v(" Cancel ")]):e._e()],1)],1)],1)}),Ze=[],et=a("9f2a"),tt=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.data={cancelable:!1},e.name=et["a"].getName(),e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"confirm",value:function(){!this.name||this.name.length>30||this.setName(this.name)}},{key:"setName",value:function(e){this.$emit("close"),et["a"].setName(e)}}]),t}(p["d"]);f["a"]([Object(p["c"])()],tt.prototype,"options",void 0),tt=f["a"]([p["a"]],tt);var at=tt,nt=at,ot=(a("4145"),a("132d")),st=Object(j["a"])(nt,Xe,Ze,!1,null,"c58cd2bc",null),it=st.exports;g()(st,{VBtn:F["a"],VCol:_["a"],VContainer:C["a"],VForm:S["a"],VIcon:ot["a"],VRow:$["a"],VTextField:be["a"]});var rt=a("1833"),ct=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.isHomePage=!1,e.isShowCard=!1,e.isGameStarted=!1,e.isPlayerAlive=!1,e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"onUrlChange",value:function(e){this.isHomePage="home"===e.name}},{key:"showCancelableDialog",value:function(){rt["ModalService"].open(it,{data:{cancelable:!0}})}},{key:"leaveGame",value:function(){this.$socket.werewolves.emit("leave"),this.goToHome()}},{key:"goToHome",value:function(){"/"!==this.$route.path&&this.$router.push("/")}}]),t}(p["d"]);f["a"]([Object(p["e"])("$route",{immediate:!0,deep:!0})],ct.prototype,"onUrlChange",null),ct=f["a"]([Object(p["a"])({subscriptions:function(){return{isGameStarted:Le["a"].isStarted$,isPlayerAlive:Le["a"].isAlive$,card:Le["a"].card$,seatNo:Le["a"].seatNo$,playerName:et["a"].name$}}})],ct);var lt=ct,ut=lt,dt=(a("5452"),a("40dc")),ft=a("2fa4"),vt=Object(j["a"])(ut,ze,Qe,!1,null,null,null),ht=vt.exports;g()(vt,{VAppBar:dt["a"],VBtn:F["a"],VIcon:ot["a"],VSpacer:ft["a"]});a("7db0");var pt=function(e){var t=[["unknown",""],["pending","準備中"],["peercard","確認身份"],["roundwolf","狼人殺人"],["seer","預言家查驗"],["witch","女巫救人或下毒"],["daybreaks","天亮了"],["deadskill","啟動角色技能"],["startopinion","開始發表言論"],["opinion 1","1號玩家發表言論"],["opinion 2","2號玩家發表言論"],["opinion 3","3號玩家發表言論"],["opinion 4","4號玩家發表言論"],["opinion 5","5號玩家發表言論"],["opinion 6","6號玩家發表言論"],["opinion 7","7號玩家發表言論"],["opinion 8","8號玩家發表言論"],["opinion 9","9號玩家發表言論"],["opinion 10","10號玩家發表言論"],["publicvote","投票"],["publicvoteresult","投票結果"],["gameover","遊戲結束"],["",""],[void 0,""]],a=t.find((function(t){return t[0]===e}));return a&&a[1]||""},bt=function(e){function t(){return Object(r["a"])(this,t),Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"created",value:function(){var e=this;this.sockets.werewolves.subscribe("games",(function(e){Le["a"].games$.next(e)})),this.sockets.werewolves.subscribe("goto",(function(t){e.$router.push("/game/".concat(t))})),this.sockets.werewolves.subscribe("newgame",(function(){Le["a"].reset()})),this.sockets.werewolves.subscribe("dead",(function(e){Le["a"].beKilled()})),this.sockets.werewolves.subscribe("cards",(function(e){Le["a"].setCards(e.cards)})),this.sockets.werewolves.subscribe("gamedetails",(function(t){t.error?e.$router.push("/"):(t.isStarted&&Le["a"].start(),Le["a"].peerCard(t.seatNo,t.card),Le["a"].setOwner(t.owner),Le["a"].setCards(t.cards))})),this.sockets.werewolves.subscribe("peercard",(function(e){Le["a"].peerCard(e.seatNo,e.card)})),this.sockets.werewolves.subscribe("start",(function(e){Le["a"].start()})),this.sockets.werewolves.subscribe("players",(function(e){Le["a"].updatePlayers({seatedPlayers:e.seatedPlayers,players:e.players})})),this.sockets.werewolves.subscribe("round",(function(e){Le["a"].card$.value.onRound(e.name,e)})),this.sockets.werewolves.subscribe("info",(function(e){Le["a"].title$.next(pt(e.title)),Le["a"].time$.next(e.time)}))}}]),t}(p["d"]);bt=f["a"]([Object(p["a"])({})],bt);var mt=bt,yt=function(e){function t(){return Object(r["a"])(this,t),Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"created",value:function(){var e=this;et["a"].name$.subscribe((function(t){t||e.showNameDialog(),e.$socket.werewolves.emit("rejoinSession",{name:t})}))}},{key:"showNameDialog",value:function(){this.$nextTick((function(){rt["ModalService"].open(it,{data:{cancelable:!1}})}))}}]),t}(Object(p["b"])(mt));yt=f["a"]([Object(p["a"])({components:{"app-header":ht,Round:Ye}})],yt);var Ot=yt,wt=Ot,jt=(a("3998"),a("5c64"),a("7496")),kt=a("a75b"),gt=Object(j["a"])(wt,s,i,!1,null,"681ac35e",null),_t=gt.exports;g()(gt,{VApp:jt["a"],VContent:kt["a"]});a("d3b7");var Ct=a("8c4f"),St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",[a("div",{staticClass:"game-menu"},[a("v-btn",{attrs:{color:"success",disabled:e.isCreatingGame,dark:""},on:{click:function(t){return e.createGame()}}},[e._v("新遊戲")]),e.joinedGame?a("v-btn",{attrs:{color:"error",disabled:e.isCreatingGame,dark:""},on:{click:function(t){return e.backToGame()}}},[e._v("回到遊戲")]):e._e()],1)]),a("GameList",{attrs:{games:e.games,joinedGame:e.joinedGame}})],1)},$t=[],Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-simple-table",{attrs:{"fixed-header":"",height:"300px"},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("房號")]),a("th",{staticClass:"text-left"},[e._v("房主")]),a("th",{staticClass:"text-left"},[e._v("遊戲人數 / 總人數")])])]),a("tbody",e._l(e.games,(function(t){return a("tr",{key:t.id,on:{click:function(a){e.selectedGame=t.id}}},[a("td",[e._v(e._s(t.id))]),a("td",[e._v(e._s(t.owner))]),a("td",[e._v(" "+e._s(t.seats.length)+" / "+e._s(t.players.length)+" "),e.selectedGame!==t.id||e.joinedGame?e._e():a("v-btn",{staticClass:"join-button",attrs:{color:"success",fab:"",dark:"","x-small":""},on:{click:function(a){return e.joinGame(t.id)}}},[a("v-icon",[e._v("mdi-arrow-right-bold-circle")])],1)],1)])})),0)]},proxy:!0}])})},Nt=[],xt=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.selectedGame=null,e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"joinGame",value:function(e){this.games.find((function(t){return t.id===e})).players.find((function(e){return e.name===et["a"].getName()}))?this.$router.push("/game/".concat(e)):this.$socket.werewolves.emit("join",{gameId:e,playerName:et["a"].getName()})}}]),t}(p["d"]);f["a"]([Object(p["c"])()],xt.prototype,"games",void 0),f["a"]([Object(p["c"])()],xt.prototype,"joinedGame",void 0),xt=f["a"]([p["a"]],xt);var Mt=xt,Pt=Mt,At=(a("d974"),a("1f4f")),Et=Object(j["a"])(Pt,Vt,Nt,!1,null,"36b130b2",null),Gt=Et.exports;g()(Et,{VBtn:F["a"],VIcon:ot["a"],VSimpleTable:At["a"]});var Rt=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.isCreatingGame=!1,e.playerName="",e.games=[],e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"backToGame",value:function(){this.$router.push("/game/".concat(this.joinedGame.id))}},{key:"createGame",value:function(){this.isCreatingGame=!0,this.$socket.werewolves.emit("create",{playerName:this.playerName}),this.isCreatingGame=!1}},{key:"created",value:function(){this.$socket.werewolves.emit("getGames")}},{key:"joinedGame",get:function(){var e=this;return this.games.find((function(t){return t.players.find((function(t){return t.name===e.playerName}))}))}}]),t}(p["d"]);Rt=f["a"]([Object(p["a"])({components:{GameList:Gt},subscriptions:function(){return{playerName:et["a"].name$,games:Le["a"].games$}}})],Rt);var Tt=Rt,Dt=Tt,Wt=(a("0ce1"),a("a722")),It=Object(j["a"])(Dt,St,$t,!1,null,"dd35b2f4",null),Bt=It.exports;g()(It,{VBtn:F["a"],VContainer:C["a"],VLayout:Wt["a"]}),o["a"].use(Ct["a"]);var Ht=[{path:"/",name:"home",component:Bt},{path:"/game/:id",name:"game",component:function(){return a.e("game").then(a.bind(null,"7d36"))}}],Lt=new Ct["a"]({mode:"hash",base:"",routes:Ht}),Ft=Lt,Ut=a("5132"),qt=a.n(Ut),Kt=a("f309");o["a"].use(Kt["a"]);var Jt=new Kt["a"]({}),Yt=a("ce19");function zt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}o["a"].use(Yt["a"]),o["a"].config.productionTip=!1,o["a"].use(new qt.a({connection:"https://pk-center.herokuapp.com/werewolves",options:{useConnectionNamespace:!0},debug:!0}));var Xt={vuetify:Jt},Zt=new o["a"](Qt({},Xt,{router:Ft,render:function(e){return e(_t)}})).$mount("#app");rt["ModalService"].setContainer(Zt.$root.$el,Xt)},d329:function(e,t,a){"use strict";var n=a("12b0"),o=a.n(n);o.a},d974:function(e,t,a){"use strict";var n=a("fd37"),o=a.n(n);o.a},dfa5:function(e,t,a){},dfd1:function(e,t,a){},e758:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("7db0"),a("b0c0");var n=a("d4ec"),o=a("bee2"),s=a("fb1c"),i=a("1fb8"),r=function(){function e(){Object(n["a"])(this,e),this.name="",this.roundActionMapping=[],this.roundActionMapping.push({round:"peercard",action:function(e){s["a"].showModal(i["a"].PeerCard,e)}},{round:"daybreaks",action:function(e){s["a"].showModal(i["a"].DayBreaks,e)}},{round:"deadnotice",action:function(e){s["a"].showModal(i["a"].DeadNotice,e)}},{round:"opinion",action:function(e){s["a"].showModal(i["a"].Opinion,e)}},{round:"publicvote",action:function(e){s["a"].showModal(i["a"].PublicVote,e)}},{round:"publicvoteresult",action:function(e){s["a"].showModal(i["a"].PublicVoteResult,e)}},{round:"gameover",action:function(e){s["a"].showModal(i["a"].GameOver,e)}})}return Object(o["a"])(e,[{key:"onRound",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hasActionInRound(e)?this.doActionInRound(e,t):s["a"].clearModal()}},{key:"hasActionInRound",value:function(e){return!!this.roundActionMapping.find((function(t){return t.round===e}))}},{key:"doActionInRound",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.roundActionMapping.find((function(t){return t.round===e})).action(t)}}]),e}()},ea0f:function(e,t,a){"use strict";var n=a("939b"),o=a.n(n);o.a},eb8e:function(e,t,a){"use strict";var n=a("bb5a"),o=a.n(n);o.a},f27d:function(e,t,a){"use strict";var n=a("1bfe"),o=a.n(n);o.a},fb1c:function(e,t,a){"use strict";var n=a("d4ec"),o=a("bee2"),s=a("dba1"),i={name:""},r={get:function(){return i}},c=r,l=a("1fb8"),u=(c.get(),function(){function e(){Object(n["a"])(this,e),this.show$=new s["a"]({modal:l["a"].Unknown,data:{}})}return Object(o["a"])(e,[{key:"showModal",value:function(e,t){this.show$.next({modal:e,data:t})}},{key:"clearModal",value:function(){this.show$.next({modal:l["a"].Unknown,data:{}})}}]),e}()),d=new u;t["a"]=d},fd37:function(e,t,a){}});
//# sourceMappingURL=app.78d4f33c.js.map